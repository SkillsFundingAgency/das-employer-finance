@{ var errorMessage = string.Empty;}

@if (!ViewContext.ViewData.ModelState.IsValid)
{
    foreach (var state in ViewContext.ViewData.ModelState.Values)
    {
        foreach (var error in state.Errors)
        {
            errorMessage = error.ErrorMessage;
        }
    }

    <div class="govuk-error-summary">
        <div role="alert">
            <h2 class="govuk-error-summary__title">
                Errors to fix
            </h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li><a href="#change-role-selection">@errorMessage</a></li>
                </ul>
            </div>
        </div>
    </div>
}
@{
    ViewBag.PageID = "page-error";
    ViewBag.Title = "Error";
    ViewBag.HideNav = true;
}

<div class="govuk-grid-row">
    <div class="govuk--grid-column-two-thirds">
        <h1 class="govuk-heading-xl">There's been an error</h1>
        <p>Sorry, there seems to be an error with this page. Please refresh your browser or <a href="@Url.Action("Index","Home")" class="govuk-link govuk-link--no-visited-state">go back to the homepage</a>.</p>
    </div>
</div>

@section breadcrumb {
    <a href="/" class="govuk-back-link">Back to the homepage</a>
}